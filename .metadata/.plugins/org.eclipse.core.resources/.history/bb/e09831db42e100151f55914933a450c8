import java.io.IOException;
import java.net.DatagramSocket;
import java.net.InetAddress;
import java.net.SocketAddress;
import java.net.SocketException;
import java.net.DatagramPacket;

public class DatagramTest {
	public static void main(String[] args) throws IOException{
		byte[] bytes = new byte[6];
		for (int i = 0; i < 6; i++) {
			bytes[i] = (byte) 0xff; } 
		DatagramSocket s1 = new DatagramSocket(8888);
		DatagramSocket s2 = new DatagramSocket(8889);
		SocketAddress Socket1=s1.getLocalSocketAddress();
		DatagramPacket packet = new DatagramPacket(bytes,bytes.length, Socket1);
		try {
			s2.send(packet);
		} catch (Exception e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		s2.close();
		DatagramPacket recPacket = new DatagramPacket(new byte[6], 6);
		s1.receive(recPacket);
		s1.close();
	}
}
